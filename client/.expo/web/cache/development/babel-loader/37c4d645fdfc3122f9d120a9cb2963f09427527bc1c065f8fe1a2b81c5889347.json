{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport mime from 'mime';\nexport var uploadImageAsync = function () {\n  var _ref = _asyncToGenerator(function* (uri) {\n    var formData = new FormData();\n    var fileType = mime.getType(uri);\n    formData.append('file', {\n      uri: uri,\n      type: fileType,\n      name: 'upload.jpg'\n    });\n    console.log(formData);\n    formData.append('upload_preset', 'gameShop_img');\n    formData.append('cloud_name', 'deamondhero');\n    try {\n      var response = yield axios.post('https://api.cloudinary.com/v1_1/deamondhero/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      var result = response.data;\n      console.log(result);\n      console.log(result.secure_url);\n      return result.secure_url;\n    } catch (error) {\n      console.log(error);\n      throw new Error('Failed to upload image');\n    }\n  });\n  return function uploadImageAsync(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","mime","uploadImageAsync","_ref","_asyncToGenerator","uri","formData","FormData","fileType","getType","append","type","name","console","log","response","post","headers","result","data","secure_url","error","Error","_x","apply","arguments"],"sources":["C:/Users/famil/OneDrive/Escritorio/Henry-PF/GameShop/client/src/components/helpers/uploadImage.jsx"],"sourcesContent":["import axios from 'axios';\nimport mime from 'mime';\n\nexport const uploadImageAsync = async (uri) => {\n  const formData = new FormData();\n  const fileType = mime.getType(uri);\n  formData.append('file', {\n    uri: uri,\n    type: fileType,\n    name: 'upload.jpg',\n  });\n\n  console.log(formData)\n  formData.append('upload_preset', 'gameShop_img');\n  formData.append('cloud_name', 'deamondhero');\n\n  try {\n    const response = await axios.post(\n      'https://api.cloudinary.com/v1_1/deamondhero/upload',\n      formData,\n      {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      }\n    );\n\n    const result = response.data;\n    console.log(result);\n    console.log(result.secure_url);\n    return result.secure_url;\n  } catch (error) {\n    console.log(error);\n    throw new Error('Failed to upload image');\n  }\n};\n\n\n\n\n// import React, { useState, useEffect } from 'react';\n// import { Button, Image, View, Platform } from 'react-native';\n// import * as ImagePicker from 'expo-image-picker';\n\n\n//  export const uploadImageAsync = async (uri) => {\n//     const body = new FormData();\n//     body.append(\"file\", {\n//       uri: uri,\n//       type: \"image/jpeg\",\n//       name: \"upload.jpg\",\n//     });\n//     body.append(\"upload_preset\", \"gameShop_img\");\n//     body.append(\"cloud_name\", \"deamondhero\");\n\n//     const response = await fetch(\"https://api.cloudinary.com/v1_1/deamondhero/upload\", {\n//       method: \"POST\",\n//       body: body,\n//     });\n\n//     const result = await response.json();\n//     console.log(result)\n//     console.log(result.secure_url)\n//     return result.secure_url;\n//   };\n  \n  // const pickImage = async () => {\n  //   let result = await ImagePicker.launchImageLibraryAsync({\n  //     mediaTypes: ImagePicker.MediaTypeOptions.All,\n  //     allowsMultipleSelection: true,\n  //     allowsEditing: false,\n  //     aspect: [3, 4],\n  //     quality: 0.5,\n  //   });\n\n  //   console.log(result);\n\n  //   if (!result.canceled) {\n  //     const uploadedImages = await Promise.all(result.assets.map(async (image) => {\n  //       const imageUrl = await uploadImageAsync(image.uri);\n  //       return { ...image, imageUrl };\n  //     }));\n\n   \n  \n  //     setImage(uploadedImages);\n  //     console.log(uploadedImages)\n  //     return uploadedImages\n  //   }}\n\n\n  // return (\n  //   <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n  //     <Button title=\"Load images from gallery\" onPress={pickImage} />\n      \n  //     {image && image.map((i)=>{\n  //       return(\n  //     <Image source={{ uri: i.uri }} style={{ margin:5,  width: 200, height: 200}} />)})\n  //   }\n  //   </View>\n  // );\n// }"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,MAAM;AAEvB,OAAO,IAAMC,gBAAgB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,GAAG,EAAK;IAC7C,IAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/B,IAAMC,QAAQ,GAAGP,IAAI,CAACQ,OAAO,CAACJ,GAAG,CAAC;IAClCC,QAAQ,CAACI,MAAM,CAAC,MAAM,EAAE;MACtBL,GAAG,EAAEA,GAAG;MACRM,IAAI,EAAEH,QAAQ;MACdI,IAAI,EAAE;IACR,CAAC,CAAC;IAEFC,OAAO,CAACC,GAAG,CAACR,QAAQ,CAAC;IACrBA,QAAQ,CAACI,MAAM,CAAC,eAAe,EAAE,cAAc,CAAC;IAChDJ,QAAQ,CAACI,MAAM,CAAC,YAAY,EAAE,aAAa,CAAC;IAE5C,IAAI;MACF,IAAMK,QAAQ,SAASf,KAAK,CAACgB,IAAI,CAC/B,oDAAoD,EACpDV,QAAQ,EACR;QACEW,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CACF,CAAC;MAED,IAAMC,MAAM,GAAGH,QAAQ,CAACI,IAAI;MAC5BN,OAAO,CAACC,GAAG,CAACI,MAAM,CAAC;MACnBL,OAAO,CAACC,GAAG,CAACI,MAAM,CAACE,UAAU,CAAC;MAC9B,OAAOF,MAAM,CAACE,UAAU;IAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdR,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;MAClB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;IAC3C;EACF,CAAC;EAAA,gBAhCYpB,gBAAgBA,CAAAqB,EAAA;IAAA,OAAApB,IAAA,CAAAqB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAgC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}