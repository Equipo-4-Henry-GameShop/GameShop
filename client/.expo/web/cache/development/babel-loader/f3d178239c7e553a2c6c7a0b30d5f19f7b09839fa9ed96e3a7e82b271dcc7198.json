{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nexport var InsertarItem = function () {\n  var _ref = _asyncToGenerator(function* (key, objString) {\n    try {\n      var currentValue = yield AsyncStorage.getItem(key);\n      if (currentValue !== null) {\n        var parsedValue = JSON.parse(currentValue);\n        if (parsedValue.amount === 3) {\n          alert(\"Lo Sentimos el numero maximo de compras por titulo es 3.\");\n        } else {\n          parsedValue.amount = parsedValue.amount + 1;\n          var updatedValue = JSON.stringify(parsedValue);\n          yield AsyncStorage.setItem(key, updatedValue);\n          alert('Se adiciono una unidad al item actual');\n        }\n      } else {\n        yield AsyncStorage.setItem(key, objString);\n        alert('el item ha sido agregado');\n      }\n    } catch (error) {\n      console.log(\"error al guardar objeto\", error);\n    }\n  });\n  return function InsertarItem(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var amountAdd = function () {\n  var _ref2 = _asyncToGenerator(function* (key, newValue) {\n    try {\n      var currentValue = yield AsyncStorage.getItem(key);\n      if (currentValue !== null) {\n        if (newValue === 3) {\n          alert(\"Lo Sentimos el numero maximo de compras por titulo es 3.\");\n        } else {\n          var parsedValue = JSON.parse(currentValue);\n          parsedValue.amount = newValue + 1;\n          var updatedValue = JSON.stringify(parsedValue);\n          yield AsyncStorage.setItem(key, updatedValue);\n          console.log('Item modificado exitosamente');\n        }\n      } else {\n        console.log('No se encontró un item para la clave especificada');\n      }\n    } catch (error) {\n      console.log('Error al modificar el item:', error);\n    }\n  });\n  return function amountAdd(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var amountSub = function () {\n  var _ref3 = _asyncToGenerator(function* (key, newValue) {\n    try {\n      var currentValue = yield AsyncStorage.getItem(key);\n      if (currentValue !== null) {\n        var parsedValue = JSON.parse(currentValue);\n        console.log(\"newValie\", newValue);\n        parsedValue.amount = newValue - 1;\n        var updatedValue = JSON.stringify(parsedValue);\n        yield AsyncStorage.setItem(key, updatedValue);\n        console.log('Item modificado exitosamente');\n      } else {\n        console.log('No se encontró un item para la clave especificada');\n      }\n    } catch (error) {\n      console.log('Error al modificar el item:', error);\n    }\n  });\n  return function amountSub(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var removeItem = function () {\n  var _ref4 = _asyncToGenerator(function* (key) {\n    try {\n      yield AsyncStorage.removeItem(key);\n      console.log('Clave eliminada exitosamente');\n    } catch (error) {\n      console.log('Error al eliminar la clave:', error);\n    }\n  });\n  return function removeItem(_x7) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var cleanCart = function () {\n  var _ref5 = _asyncToGenerator(function* () {\n    try {\n      yield AsyncStorage.clear();\n      console.log('Elementos eliminados exitosamente');\n    } catch (error) {\n      console.log('Error al eliminar los elementos:', error);\n    }\n  });\n  return function cleanCart() {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var AlertItem = function AlertItem(fx) {\n  Alert.alert('Are you sure you want to clear the cart?', '', [{\n    text: 'Cancel',\n    onPress: function onPress() {\n      return console.log('Cancel Pressed');\n    },\n    style: 'cancel'\n  }, {\n    text: 'OK',\n    onPress: function onPress() {\n      return fx;\n    }\n  }], {\n    cancelable: false\n  });\n};\nexport var getKeysCount = function () {\n  var _ref6 = _asyncToGenerator(function* () {\n    try {\n      var allKeys = yield AsyncStorage.getAllKeys();\n      allKeys = yield AsyncStorage.getAllKeys();\n      var keysCount = allKeys.length;\n      return keysCount;\n    } catch (error) {\n      console.log(\"Error al obtener las claves de AsyncStorage:\", error);\n      throw error;\n    }\n  });\n  return function getKeysCount() {\n    return _ref6.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["AsyncStorage","Alert","InsertarItem","_ref","_asyncToGenerator","key","objString","currentValue","getItem","parsedValue","JSON","parse","amount","alert","updatedValue","stringify","setItem","error","console","log","_x","_x2","apply","arguments","amountAdd","_ref2","newValue","_x3","_x4","amountSub","_ref3","_x5","_x6","removeItem","_ref4","_x7","cleanCart","_ref5","clear","AlertItem","fx","text","onPress","style","cancelable","getKeysCount","_ref6","allKeys","getAllKeys","keysCount","length"],"sources":["C:/Users/juandiego/Documents/Escuela de desarrollo web/practica de JS/PF/MyGameshop/GameShop/client/src/components/Views/Forms/Cart/CardCartController.jsx"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport { Alert } from 'react-native'\n//linea para modificar el contexto de localizacion para el lenaguje\n\n\n//inserta o agrega cantidad de item\nexport const  InsertarItem= async (key,objString) => {\n    try {           \n        const currentValue = await AsyncStorage.getItem(key);\n        if (currentValue !== null) {\n            const parsedValue = JSON.parse(currentValue);\n            if (parsedValue.amount===3){\n                alert(\"Lo Sentimos el numero maximo de compras por titulo es 3.\")\n            }else{\n            parsedValue.amount = parsedValue.amount+1; // Aquí puedes realizar las modificaciones necesarias en el valor\n            // Convertir el objeto modificado a una cadena de texto\n            const updatedValue = JSON.stringify(parsedValue);\n            await AsyncStorage.setItem(key, updatedValue);\n            \n            alert('Se adiciono una unidad al item actual')\n            // console.log('Item modificado exitosamente');\n            }\n        }   \n        else{\n            await AsyncStorage.setItem(key, objString);\n            // Kawait AsyncStorage.setItem('item2', objString);\n            // console.log(\"llave agregada\",objString)\n            alert('el item ha sido agregado')\n        }\n       \n    } catch (error) {\n      console.log(\"error al guardar objeto\", error);\n    }\n\n  }\n\n\n// Agregar cantidad de item en AsyncStorage\nexport const amountAdd = async (key, newValue) => {\n    try {\n        // Obtener el valor actual del item\n        // console.log(\"cantida enviada\", newValue)\n        const currentValue = await AsyncStorage.getItem(key);\n        if (currentValue !== null) {\n          if (newValue===3){\n              alert(\"Lo Sentimos el numero maximo de compras por titulo es 3.\")\n          }else{\n            const parsedValue = JSON.parse(currentValue);\n            parsedValue.amount = newValue+1; // Aquí puedes realizar las modificaciones necesarias en el valor\n            // Convertir el objeto modificado a una cadena de texto\n            const updatedValue = JSON.stringify(parsedValue);\n            await AsyncStorage.setItem(key, updatedValue);\n            // dispatch(updateCart());\n            \n            console.log('Item modificado exitosamente');\n          } \n        } else {\n          console.log('No se encontró un item para la clave especificada');\n        }\n      } catch (error) {\n        console.log('Error al modificar el item:', error);\n      }\n    };\n// Agregar cantidad de item en AsyncStorage\nexport const amountSub = async (key, newValue) => {\n  // console.log(\"valor de key\",key)\n    try {\n        // Obtener el valor actual del item\n        const currentValue = await AsyncStorage.getItem(key);\n        if (currentValue !== null) {\n          // Analizar el valor obtenido para convertirlo en un objeto\n          const parsedValue = JSON.parse(currentValue);\n          console.log(\"newValie\",newValue)\n              parsedValue.amount = newValue-1; // Aquí puedes realizar las modificaciones necesarias en el valor\n              // Convertir el objeto modificado a una cadena de texto\n              const updatedValue = JSON.stringify(parsedValue);\n        \n              // Guardar la cadena de texto actualizada en AsyncStorage\n              await AsyncStorage.setItem(key, updatedValue);\n              console.log('Item modificado exitosamente');\n          \n        } else {\n          console.log('No se encontró un item para la clave especificada');\n        }\n      } catch (error) {\n        console.log('Error al modificar el item:', error);\n      }\n    };\n\n\n    // Eliminar una clave de AsyncStorage\nexport const removeItem = async (key) => {\n    // console.log(\"ID a eliminar \",key)\n    try {\n      await AsyncStorage.removeItem(key);\n      console.log('Clave eliminada exitosamente');\n    } catch (error) {\n      console.log('Error al eliminar la clave:', error);\n    }\n  };\n\n  //limpiar carrito\n  export const cleanCart = async () => {\n    try {\n      await AsyncStorage.clear();\n      console.log('Elementos eliminados exitosamente');\n    } catch (error) {\n      console.log('Error al eliminar los elementos:', error);\n    }\n  };\n  \n  export const AlertItem = (fx) => {\n    Alert.alert(\n      'Are you sure you want to clear the cart?',\n      '',\n      [\n        {\n          text: 'Cancel',\n          onPress: () => console.log('Cancel Pressed'),\n          style: 'cancel',\n        },\n        {\n          text: 'OK',\n          onPress: () =>fx,\n        },\n      ],\n      { cancelable: false }\n    );\n  };\n  \n  export const getKeysCount = async () => {\n    try {\n      let allKeys = await AsyncStorage.getAllKeys();\n      \n      allKeys = await AsyncStorage.getAllKeys();\n      //  console.log(allKeys)\n      let keysCount = allKeys.length;\n      // console.log(\"Cantidad DESDE FX GET KEYS COUNT:\", keysCount);\n      return keysCount;\n    } catch (error) {\n      console.log(\"Error al obtener las claves de AsyncStorage:\", error);\n      throw error; // Opcional: relanza el error para manejarlo en otro lugar si es necesario\n    }\n  };\n  \n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}